<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>ThemeQR ‚Äì QR Codes That Entertain</title>
  <style>
    body { margin: 0; font-family: sans-serif; background: #fff; color: #333; }
    header { padding: 2rem; background: #0a2540; color: #fff; text-align: center; position: relative; min-height: 120px; }
    h1 { margin: 0; font-size: 2.5rem; }
    h2 { color: #0a2540; }
    .signup h2 { color: #fff; }
    .hero { padding: 3rem 1rem; text-align: center; background: #f9f9f9; }
    .hero p { max-width: 600px; margin: 1rem auto; font-size: 1.2rem; }
    .btn { background: #00b894; color: #fff; padding: 0.75rem 1.5rem; text-decoration: none; border-radius: 5px; display: inline-block; margin-top: 1rem; }
    .section { padding: 2rem 1rem; text-align: center; }
    .features { display: grid; gap: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); padding: 2rem 0; }
    .features div { padding: 1rem; border: 1px solid #eee; border-radius: 8px; }
    .video-wrapper { max-width: 720px; margin: 2rem auto; }
    iframe { width: 100%; height: 400px; border: none; border-radius: 8px; }
    .signup { background: #0a2540; color: #fff; padding: 2rem; }
    input[type="email"] { padding: 0.75rem; width: 250px; max-width: 80%; border: none; border-radius: 4px; margin-right: 0.5rem; }
    .footer { background: #f1f1f1; text-align: center; padding: 1rem; font-size: 0.9rem; color: #666; }
    .auth-controls { position: absolute; bottom: 1rem; right: 2rem; display: flex; align-items: center; gap: 1rem; }
    .auth-controls span { font-size: 1rem; }
    .auth-controls a { color: #fff; text-decoration: none; }
    .auth-controls a:hover { text-decoration: underline; }
    .auth-controls .logout-btn { background: #ff4d4f; padding: 0.5rem 1rem; border-radius: 5px; }
    .auth-controls .logout-btn:hover { background: #e6393b; text-decoration: none; }
  </style>
</head>
<body>
  <header>
    <h1>ThemeQR</h1>
    <p>QR Codes That Do More Than Link ‚Äì They Entertain</p>
    <div class="auth-controls" id="user-nav">
  
    </div>
 
  </header>

  <section class="hero">
    <h2>Create QR Codes with Video Personality</h2>
    <p>ThemeQR lets you wrap your QR codes in viral memes, stylish videos, and branded themes. Update your QR destination anytime with just a tap.</p>
    <a href="{{ url_for('signup') }}" class="btn">Get Early Access</a>
  </section>

  <section class="video-wrapper">
    <h2>üìΩÔ∏è See It In Action</h2>
    <video autoplay loop muted playsinline width="100%">
      <source src="https://res.cloudinary.com/themeqr-test/video/upload/v1752014993/themeqr/wrappers/obsg01o6dfzl6du5bsaa.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </section>

  <section class="section">
    <div>
      <h2>üåê Curious about dynamic QR switching in action</h2>
      <a href="{{ url_for('serve_qr_landing_editor') }}" class="btn">Click Here!</a>
    </div>
    <div style="margin: 2rem 0;">
      <h3>üì∑ QR Code</h3>
      <img src="https://res.cloudinary.com/themeqr-test/image/upload/v1752014973/themeqr/qr_codes/kulzt9rsgzjg75mezbde.png" alt="QR Code" style="width: 200px; border: 1px solid #ccc; border-radius: 8px;">
    </div>
  </section>

  <section class="section">
    <h2>üöÄ Why ThemeQR?</h2>
    <div class="features">
      <div>
        <h3>üé• Video Wrappers</h3>
        <p>Play a funny or branded video around your QR scan.</p>
      </div>
      <div>
        <h3>üîÅ Dynamic Links</h3>
        <p>Change where your QR points, anytime, even after printing.</p>
      </div>
      <div>
        <h3>üé® Custom Themes</h3>
        <p>Pick from memes, categories, or upload your own.</p>
      </div>
      <div>
        <h3>üìä Use for Marketing</h3>
        <p>Perfect for campaigns, events, promotions, birthdays.</p>
      </div>
    </div>
  </section>

  <section class="signup" id="signup">
    <h2>üì¨ Get Notified When We Launch</h2>
    <p>Join our waitlist to get early access to ThemeQR.</p>
    <a href="{{ url_for('signup') }}" class="btn">Join the Waitlist</a>
  </section>

  <footer class="footer">
    ¬© 2025 ThemeQR. All rights reserved.
  </footer>

  <script>
   function updateUserNav() { 
  // Get user data from cookie
    const cookies = document.cookie.split('; ').reduce((acc, cookie) => {
      const [name, value] = cookie.split('=');
      acc[name] = value;
      return acc;
    }, {});
    const user = cookies.user ? JSON.parse(decodeURIComponent(cookies.user)) : null;  

    const navDiv = document.getElementById('user-nav');
    if (user && user.email) {
      navDiv.innerHTML = `
        <span>Hello, ${user.email}!</span>
        <a href="/logout" class="logout-btn">Log Out</a>
      `;
    } else {
      navDiv.innerHTML = `
        <a href="/login">Log In</a>
        <a href="/signup">Sign Up</a>
      `;
    }  
    
    // Add logout event listener if not already added
    const logoutBtn = navDiv.querySelector('.logout-btn');
    if (logoutBtn && !logoutBtn.dataset.eventListener) {
      logoutBtn.addEventListener('click', () => {
        document.cookie = 'user=; Max-Age=0; path=/';
        window.location.href = '/login';
      });
      logoutBtn.dataset.eventListener = 'true'; // Prevent duplicate listeners
    }
    }
    
    // Run on page load and handle redirect
    window.addEventListener('load', updateUserNav);
    window.addEventListener('popstate', () => {
      window.location.reload();  // Force reload on back/forward
    }); 
    // Handle logout click to clear cookie
    document.querySelector('.logout-btn')?.addEventListener('click', () => {
      document.cookie = 'user=; Max-Age=0; path=/';
      window.location.href = '/login';
    });
  
    // Optional: Handle logout click to clear user data
    document.querySelector('.logout-btn')?.addEventListener('click', () => {
      localStorage.removeItem('user');
      window.location.href = '/login';
    }); 

    function setVideo(url) {
      const video = document.getElementById("qrVideo");
      const source = document.getElementById("videoSource");
      source.src = url;
      video.load();
      video.play();
    }

    function setLanding(url) {
      window.location.href = url;
    }

  </script>
</body>
</html>